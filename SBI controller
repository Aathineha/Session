package com.example.session1.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import java.util.Map;
import com.example.session1.service.SessionService;
import com.example.session1.service.LogoutService;

@RestController
@RequestMapping("/session")
public class SessionController {

    @Autowired
    private SessionService sessionService;

    @Autowired
    private LogoutService logoutService;

    @PostMapping("/login")
    public boolean login(@RequestBody Map<String, String> input) {
        String neId = input.get("neId");
        String ipAddress = input.get("ipAddress");
        String username = input.get("username");
        String password = input.get("password");

        return sessionService.login(neId, ipAddress, username, password);
    }

    @PostMapping("/logout")
    public boolean logout(@RequestBody Map<String, String> input) {
        String neId = input.get("neId");
        String ipAddress = input.get("ipAddress");

        return logoutService.logout(neId, ipAddress);
    }
}